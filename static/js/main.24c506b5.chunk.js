(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{126:function(e,t,n){e.exports={userPhoto:"users_userPhoto__18tvU",selectedPage:"users_selectedPage__3Gv-Z"}},158:function(e,t,n){},159:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var c=n(55),r=n(20),a=n(2),s={dialogs:[{id:1,name:"Dimych"},{id:2,name:"Andrew"},{id:3,name:"Sveta"},{id:4,name:"Sasha"},{id:5,name:"Viktor"},{id:6,name:"Valera"}],messages:[{id:1,message:"Hi"},{id:2,message:"How is your it-kamasutra?"},{id:3,message:"Yo"},{id:4,message:"Yo"},{id:5,message:"Yo"}]},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":var n=t.newMessageBody;return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:6,message:n}])});default:return e}},o=n(18),u=n.n(o),l=n(42),j=n(107),d=n.n(j).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"fe43f864-7186-466f-88ee-13b781ec408f"}}),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0;return d.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===c?"":"&friend=".concat(c))).then((function(e){return e.data}))},O=function(e){return d.post("follow/".concat(e))},h=function(e){return d.delete("follow/".concat(e))},f=function(e){return console.warn("Obsolete method. Please profileAPI object."),p.getProfile(e)},p={getProfile:function(e){return d.get("profile/"+e)},getStatus:function(e){return d.get("/profile/status/"+e)},updateStatus:function(e){return d.put("/profile/status/",{status:e})},saveProfile:function(e){return d.put("profile",e)},savePhoto:function(e){var t=new FormData;return t.append("image",e),d.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})}},x=function(){return d.get("auth/me")},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d.post("auth/login",{email:e,password:t,rememberMe:n,captcha:c})},m=function(){return d.delete("auth/login")},v="SET_USER_PROFILE",S="SET_STATUS",y="SAVE_PHOTO_SUCCESS",w={profile:null,status:""},P=function(e){return{type:S,status:e}},k=function(e){return function(t){f(e).then((function(e){var n;t((n=e.data,{type:v,profile:n}))}))}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(a.a)(Object(a.a)({},e),{},{profile:t.profile});case S:return Object(a.a)(Object(a.a)({},e),{},{status:t.status});case y:return Object(a.a)(Object(a.a)({},e),{},{profile:Object(a.a)(Object(a.a)({},e.profile),{},{profile:t.photos})});default:return e}},C=n(108),I="samurai-network/auth/SET_USER_DATA",E="samurai-network/auth/GET_CAPTCHA_URL_SUCCESS",A={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},F=function(e,t,n,c){return{type:I,payload:{userId:e,email:t,login:n,isAuth:c}}},N=function(){return function(){var e=Object(l.a)(u.a.mark((function e(t){var n,c,r,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:0===(n=e.sent).data.resultCode&&(c=n.data.data,r=c.id,a=c.login,s=c.email,t(F(r,s,a,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:case E:return Object(a.a)(Object(a.a)({},e),t.payload);default:return e}},M="INITIALIZED_SUCCESS",L={initialized:!1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(a.a)(Object(a.a)({},e),{},{initialized:!0});default:return e}},D=function(e,t,n,c){return e.map((function(e){return e[n]===t?Object(a.a)(Object(a.a)({},e),c):e}))},z="FOLLOW",R="UNFOLLOW",G="SET_USERS",J="SET_CURRENT_PAGE",B="SET_TOTAL_USERS_COUNT",V="TOGGLE_IS_FETCHING",H="TOGGLE_IS_FOLLOWING_PROGRESS",K="USERS_SET_FILTER",Y={users:[],pageSize:40,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[],fake:10,filter:{term:"",friend:null}},W=function(e){return{type:V,isFetching:e}},Z=function(e,t){return{type:H,isFetching:e,userId:t}},X=function(e,t,n){return function(c){c(W(!0)),c({type:J,currentPage:e}),c({type:K,payload:n}),b(e,t,n.term,n.friend).then((function(e){var t,n;c(W(!1)),c((t=e.items,{type:G,users:t})),c((n=e.totalCount,{type:B,count:n}))}))}},q=function(e){return function(t){t(Z(!0,e)),O(e).then((function(n){0==n.data.resultCode&&t(function(e){return{type:z,userId:e}}(e)),t(Z(!1,e))}))}},Q=function(e){return function(t){t(Z(!0,e)),h(e).then((function(n){0==n.data.resultCode&&t(function(e){return{type:R,userId:e}}(e)),t(Z(!1,e))}))}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FAKE":return Object(a.a)(Object(a.a)({},e),{},{fake:e.fake+1});case z:return Object(a.a)(Object(a.a)({},e),{},{users:D(e.users,t.userId,"id",{followed:!0})});case R:return Object(a.a)(Object(a.a)({},e),{},{users:D(e.users,t.userId,"id",{followed:!1})});case G:return Object(a.a)(Object(a.a)({},e),{},{users:t.users});case J:return Object(a.a)(Object(a.a)({},e),{},{currentPage:t.currentPage});case B:return Object(a.a)(Object(a.a)({},e),{},{totalUsersCount:t.count});case K:return Object(a.a)(Object(a.a)({},e),{},{filter:t.payload});case V:return Object(a.a)(Object(a.a)({},e),{},{isFetching:t.isFetching});case H:return Object(a.a)(Object(a.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(r.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},ee=Object(c.b)({dialogsPage:i,profilePage:_,auth:T,app:U,usersPage:$}),te=Object(c.d)(ee,Object(c.a)(C.a));window.store=te;var ne=te,ce=n(0),re=n.n(ce),ae=n(31),se=n.n(ae),ie=(n(158),n(21)),oe=n(22),ue=n(24),le=n(23),je=(n(159),n(160),n(97)),de=n(168),be=n(169),Oe=n(25),he=n(15),fe=n(173),pe=n(174),xe=n(175),ge=n(49),me=n.n(ge),ve=n(1),Se=function(e){var t="/dialog/"+e.id;return Object(ve.jsx)("div",{className:me.a.dialog+" "+me.a.active,children:Object(ve.jsx)(Oe.c,{to:t,children:e.name})})},ye=function(e){return Object(ve.jsx)("div",{className:me.a.dialog,children:e.message})},we=n(10),Pe=function(e){return Object(ve.jsxs)("div",{children:[Object(ve.jsx)("h1",{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0442\u044c \u0421\u043e\u043e\u0431\u0435\u0449\u0435\u043d\u0438\u0435"}),Object(ve.jsx)(we.c,{initialValues:{name:""},onSubmit:function(t){e.addNewMessage(t.name)},children:function(e){return Object(ve.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(ve.jsx)("input",{type:"text",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.name,name:"name"}),Object(ve.jsx)("button",{type:"submit",children:"Submit"})]})}})]})},ke=function(e){var t=e.dialogsPage,n=t.dialogs.map((function(e){return Object(ve.jsx)(Se,{id:e.id,name:e.name},e.id)})),c=t.messages.map((function(e){return Object(ve.jsx)(ye,{id:e.id,message:e.message},e.id)}));return Object(ve.jsxs)("div",{className:me.a.dialogs,children:[Object(ve.jsx)("div",{className:me.a.dialogsItems,children:n}),Object(ve.jsx)("div",{className:me.a.messages,children:Object(ve.jsx)("div",{children:c})}),Object(ve.jsx)(Pe,{addNewMessage:function(t){e.sendMessage(t)}})]})},_e=n(11),Ce=Object(_e.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:"SEND_MESSAGE",newMessageBody:e}}(t))}}}))(ke),Ie=n(5),Ee=n(88),Ae=n.n(Ee),Fe=n.p+"static/media/preloader.5788b05c.svg",Ne=function(){return Object(ve.jsx)("div",{style:{backgroundColor:"white"},children:Object(ve.jsx)("img",{src:Fe})})},Te=function(e){var t=Object(ce.useState)(!1),n=Object(Ie.a)(t,2),c=n[0],r=n[1],a=Object(ce.useState)(e.status),s=Object(Ie.a)(a,2),i=s[0],o=s[1];Object(ce.useEffect)((function(){o(e.status)}),[e.status]);return Object(ve.jsxs)("div",{children:[!c&&Object(ve.jsx)("div",{children:Object(ve.jsx)("span",{onDoubleClick:function(){r(!0)},children:e.status||"-------"})}),c&&Object(ve.jsx)("div",{children:Object(ve.jsx)("input",{onChange:function(e){o(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(i)},value:i})})]})},Me=n.p+"static/media/user.96e310a6.png",Le=function(e){return Object(ve.jsxs)("div",{children:[Object(ve.jsx)("h1",{children:"Anywhere in your app!"}),Object(ve.jsx)(we.c,{initialValues:{email:"",password:"",rememberMe:!1,captcha:""},onSubmit:function(t,n){e.logoutCollBack(t)},children:function(e){return Object(ve.jsxs)(we.b,{children:[Object(ve.jsx)(we.a,{name:"email",placeholder:"email"}),Object(ve.jsx)(we.a,{name:"password",type:"password",placeholder:"Doe"}),Object(ve.jsx)(we.a,{name:"rememberMe",type:"checkbox"}),Object(ve.jsx)("button",{type:"submit",children:"Submit"})]})}})]})},Ue=function(){var e=Object(_e.c)();return Object(ve.jsx)(Le,{logoutCollBack:function(t){var n=t.email,c=t.password,r=t.rememberMe;e(function(e,t,n){return function(){var c=Object(l.a)(u.a.mark((function c(r){return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=3,g(e,t,n);case 3:0===c.sent.data.resultCode&&r(N());case 5:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(n,c,r))}})},De=function(e){var t=e.profile,n=e.onSubmit;return Object(ve.jsxs)("div",{children:[Object(ve.jsx)("h1",{children:"Anywhere in your app!"}),Object(ve.jsx)(we.c,{initialValues:{FullName:t.fullName,lookingForAJob:!1,lookingForAJobDescription:t.lookingForAJobDescription,aboutMe:t.aboutMe,contacts:{facebook:t.contacts.facebook,website:t.contacts.website,vk:t.contacts.vk,twitter:t.contacts.twitter,instagram:t.contacts.instagram,youtube:t.contacts.youtube,github:t.contacts.github,mainLink:t.contacts.mainLink}},onSubmit:function(e){n(e)},children:function(e){return Object(ve.jsxs)(we.b,{children:[Object(ve.jsx)(we.a,{name:"FullName",placeholder:"FullName"}),Object(ve.jsx)("td",{}),Object(ve.jsx)(we.a,{name:"lookingForAJob",type:"checkbox"}),Object(ve.jsx)("td",{}),Object(ve.jsx)(we.a,{name:"lookingForAJobDescription",placeholder:"lookingForAJobDescription"}),Object(ve.jsx)("td",{}),Object(ve.jsx)(we.a,{name:"aboutMe",placeholder:"aboutMe"}),Object(ve.jsx)("td",{}),Object(ve.jsx)(we.a,{name:"contacts.facebook"}),Object(ve.jsx)("td",{}),Object(ve.jsx)(we.a,{name:"contacts.website"}),Object(ve.jsx)("td",{}),Object(ve.jsx)(we.a,{name:"contacts.vk"}),Object(ve.jsx)("td",{}),Object(ve.jsx)(we.a,{name:"contacts.twitter"}),Object(ve.jsx)("td",{}),Object(ve.jsx)(we.a,{name:"contacts.instagram"}),Object(ve.jsx)("td",{}),Object(ve.jsx)(we.a,{name:"contacts.github"}),Object(ve.jsx)("td",{}),Object(ve.jsx)(we.a,{name:"contacts.mainLink"}),Object(ve.jsx)("button",{type:"submit",children:"Submit"})]})}})]})},ze=function(e){var t=e.profile,n=e.isOwner,c=e.goToEditMode;return Object(ve.jsxs)("div",{children:[n&&Object(ve.jsx)("div",{children:Object(ve.jsx)("button",{onClick:c,children:"edit"})}),Object(ve.jsxs)("div",{children:[Object(ve.jsx)("b",{children:"Full name"}),": ",t.fullName]}),Object(ve.jsxs)("div",{children:[Object(ve.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(ve.jsxs)("div",{children:[Object(ve.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),Object(ve.jsxs)("div",{children:[Object(ve.jsx)("b",{children:"About me"}),": ",t.aboutMe]}),Object(ve.jsxs)("div",{children:[Object(ve.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){return Object(ve.jsx)(Re,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},Re=function(e){var t=e.contactTitle,n=e.contactValue;return Object(ve.jsxs)("div",{className:Ae.a.contact,children:[Object(ve.jsx)("b",{children:t}),": ",n]})},Ge=function(e){var t=Object(ce.useState)(!1),n=Object(Ie.a)(t,2),c=n[0],r=n[1];if(!e.profile)return Object(ve.jsx)(Ne,{});return Object(ve.jsx)("div",{children:Object(ve.jsxs)("div",{className:Ae.a.descriptionBlock,children:[Object(ve.jsx)("img",{src:e.profile.photos.large||Me,className:Ae.a.mainPhoto}),e.isOwner&&Object(ve.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),c?Object(ve.jsx)(De,{initialValues:e.profile,profile:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){r(!1)}))},goToEditMode:function(){r(!1)}}):Object(ve.jsx)(ze,{goToEditMode:function(){r(!0)},profile:e.profile,isOwner:e.isOwner}),Object(ve.jsx)(Te,{status:e.status,updateStatus:e.updateStatus})]})})},Je=function(e){return{isAuth:e.auth.isAuth}},Be=function(e){Object(ue.a)(n,e);var t=Object(le.a)(n);function n(){return Object(ie.a)(this,n),t.apply(this,arguments)}return Object(oe.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(ve.jsx)(Ge,Object(a.a)(Object(a.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,saveProfile:this.props.saveProfile,savePhoto:this.props.savePhoto}))}}]),n}(re.a.Component),Ve=Object(c.c)(Object(_e.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:k,getStatus:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.getStatus(e);case 2:c=t.sent,n(P(c.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(P(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n,c){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c().auth.userId,t.next=3,p.saveProfile(e);case 3:0===t.sent.data.resultCode&&n(k(r));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.savePhoto(e);case 2:0===(c=t.sent).data.resultCode&&n((r=c.data.data.photos,{type:y,photos:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()}}),he.g,(function(e){var t=function(t){Object(ue.a)(c,t);var n=Object(le.a)(c);function c(){return Object(ie.a)(this,c),n.apply(this,arguments)}return Object(oe.a)(c,[{key:"render",value:function(){return this.props.isAuth?Object(ve.jsx)(e,Object(a.a)({},this.props)):Object(ve.jsx)(he.a,{to:"/login"})}}]),c}(re.a.Component);return Object(_e.b)(Je)(t)}))(Be),He=n(171),Ke=n(172),Ye=n(170),We=n(90),Ze=function(e){return e.auth.login},Xe=function(e){return e.auth.isAuth},qe=function(){var e=Object(_e.d)(Xe),t=Object(_e.d)(Ze),n=Object(_e.c)(),c=de.a.Header;return Object(ve.jsx)(c,{className:"header",children:Object(ve.jsxs)(He.a,{children:[Object(ve.jsxs)(Ke.a,{span:18,children:[" ",Object(ve.jsx)(je.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"],children:Object(ve.jsx)(je.a.Item,{children:Object(ve.jsx)(Oe.b,{to:"/users",children:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0441\u0438\u0442\u044b"})},"1")})]}),e?Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Ke.a,{span:1,children:Object(ve.jsx)(Ye.a,{alt:t||"",style:{backgroundColor:"#87d068"},icon:Object(ve.jsx)(fe.a,{})})}),Object(ve.jsxs)(Ke.a,{span:5,children:[Object(ve.jsx)(We.a,{onClick:function(){n(function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:0===e.sent.data.resultCode&&t(F(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Log out"})," "]})]}):Object(ve.jsxs)(Ke.a,{span:6,children:[Object(ve.jsx)(Oe.b,{to:"/login",children:"Login"}),"  "]})]})})},Qe=n(125),$e=Object(Qe.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),et=function(e){return e.usersPage.pageSize},tt=function(e){return e.usersPage.totalUsersCount},nt=function(e){return e.usersPage.currentPage},ct=function(e){return e.usersPage.isFetching},rt=function(e){return e.usersPage.followingInProgress},at=function(e){return e.usersPage.filter},st=n(8),it=n(89),ot=n.n(it),ut=n(4),lt=n.n(ut),jt=function(e){for(var t=e.totalItemsCount,n=e.pageSize,c=e.currentPage,r=e.onPageChanged,a=e.portionSize,s=void 0===a?10:a,i=Math.ceil(t/n),o=[],u=1;u<=i;u++)o.push(u);var l=Math.ceil(i/s),j=Object(ce.useState)(1),d=Object(Ie.a)(j,2),b=d[0],O=d[1],h=(b-1)*s+1,f=b*s;return Object(ve.jsxs)("div",{className:ot.a.paginator,children:[b>1&&Object(ve.jsx)("button",{onClick:function(){O(b-1)},children:"PREV"}),o.filter((function(e){return e>=h&&e<=f})).map((function(e){return Object(ve.jsx)("span",{className:lt()(Object(st.a)({},ot.a.selectedPage,c===e),ot.a.pageNumber),onClick:function(t){r(e)},children:e},e)})),l>b&&Object(ve.jsx)("button",{onClick:function(){O(b+1)},children:"NEXT"})]})},dt=n(126),bt=n.n(dt),Ot=function(e){var t=e.user,n=e.followingInProgress,c=e.unfollow,r=e.follow;return Object(ve.jsxs)("div",{children:[Object(ve.jsxs)("span",{children:[Object(ve.jsx)("div",{children:Object(ve.jsx)(Oe.c,{to:"/profile/"+t.id,children:Object(ve.jsx)("img",{src:null!=t.photos.small?t.photos.small:Me,className:bt.a.userPhoto})})}),Object(ve.jsx)("div",{children:t.followed?Object(ve.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){c(t.id)},children:"Unfollow"}):Object(ve.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Follow"})})]}),Object(ve.jsxs)("span",{children:[Object(ve.jsxs)("span",{children:[Object(ve.jsx)("div",{children:t.name}),Object(ve.jsx)("div",{children:t.status})]}),Object(ve.jsxs)("span",{children:[Object(ve.jsx)("div",{children:"user.location.country"}),Object(ve.jsx)("div",{children:"user.location.city"})]})]})]})},ht=function(e){return{}},ft=function(e){return Object(ve.jsx)("div",{children:Object(ve.jsx)(we.c,{initialValues:{term:"",friend:"null"},validate:ht,onSubmit:function(t,n){var c=n.setSubmitting,r={term:t.term,friend:null===t.friend?null:"true"===t.friend};e.onFilterChanged(r),c(!1)},children:function(e){var t=e.isSubmitting;return Object(ve.jsxs)(we.b,{children:[Object(ve.jsx)(we.a,{type:"text",name:"term"}),Object(ve.jsxs)(we.a,{name:"friend",as:"select",children:[Object(ve.jsx)("option",{value:"null",children:"All"}),Object(ve.jsx)("option",{value:"true",children:"Only followed"}),Object(ve.jsx)("option",{value:"false",children:"Only unfollowed"})]}),Object(ve.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})})},pt=function(e){var t=Object(_e.d)($e),n=Object(_e.d)(tt),c=Object(_e.d)(nt),r=Object(_e.d)(et),a=Object(_e.d)(at),s=Object(_e.d)(rt),i=Object(_e.c)();Object(ce.useEffect)((function(){i(X(c,r,a))}),[]);var o=function(e){i(q(e))},u=function(e){i(Q(e))};return Object(ve.jsxs)("div",{children:[Object(ve.jsx)(ft,{onFilterChanged:function(e){i(X(1,r,e))}}),Object(ve.jsx)(jt,{currentPage:c,onPageChanged:function(e){i(X(e,r,a))},totalItemsCount:n,pageSize:r}),Object(ve.jsx)("div",{children:t.map((function(e){return Object(ve.jsx)(Ot,{user:e,followingInProgress:s,unfollow:u,follow:o},e.id)}))})]})},xt=function(e){var t=Object(_e.d)(ct);return Object(ve.jsxs)(ve.Fragment,{children:[t?Object(ve.jsx)(Ne,{}):null,Object(ve.jsx)(pt,{})]})},gt=n(127),mt=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),vt=function(){return Object(ve.jsx)("div",{children:Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("h1",{children:"Chat"}),Object(ve.jsx)(St,{}),Object(ve.jsx)(wt,{})]})})},St=function(e){Object(gt.a)(e);var t=Object(ce.useState)([]),n=Object(Ie.a)(t,2),c=n[0],a=n[1];return Object(ce.useEffect)((function(){mt.addEventListener("message",(function(e){var t=JSON.parse(e.data);a((function(e){return[e].concat(Object(r.a)(t))}))}))}),[]),Object(ve.jsx)("div",{style:{height:"400px",overflowY:"auto"},children:c.map((function(e,t){return Object(ve.jsx)(yt,{message:e},t)}))})},yt=re.a.memo((function(e){var t=e.message;return Object(ve.jsxs)("div",{children:[Object(ve.jsx)("img",{src:t.photo,style:{width:"30px"}})," ",Object(ve.jsx)("b",{children:t.userName}),Object(ve.jsx)("br",{}),t.message,Object(ve.jsx)("hr",{})]})})),wt=function(){var e=Object(ce.useState)(""),t=Object(Ie.a)(e,2),n=t[0],c=t[1];return Object(ve.jsxs)("div",{children:[Object(ve.jsx)("div",{children:Object(ve.jsx)("textarea",{onChange:function(e){return c(e.currentTarget.value)},value:n})}),Object(ve.jsx)("div",{children:Object(ve.jsx)("button",{onClick:function(){n&&mt.send(n)},children:"Send"})})]})},Pt=function(){return Object(ve.jsx)("div",{children:Object(ve.jsx)(vt,{})})},kt=je.a.SubMenu,_t=de.a.Content,Ct=de.a.Sider,It=function(e){Object(ue.a)(n,e);var t=Object(le.a)(n);function n(){return Object(ie.a)(this,n),t.apply(this,arguments)}return Object(oe.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(ve.jsxs)(de.a,{children:[Object(ve.jsx)(qe,{}),Object(ve.jsxs)(de.a,{children:[Object(ve.jsx)(Ct,{width:200,className:"site-layout-background",children:Object(ve.jsxs)(je.a,{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],style:{height:"100%",borderRight:0},children:[Object(ve.jsxs)(kt,{icon:Object(ve.jsx)(fe.a,{}),title:"subnav 1",children:[Object(ve.jsx)(je.a.Item,{children:Object(ve.jsx)(Oe.b,{to:"/dialogs",children:"Dialog"})},"1"),Object(ve.jsx)(je.a.Item,{children:Object(ve.jsx)(Oe.b,{to:"/profile",children:"Profile"})},"2"),Object(ve.jsx)(je.a.Item,{children:Object(ve.jsx)(Oe.b,{to:"/users",children:"Users"})},"3"),Object(ve.jsx)(je.a.Item,{children:Object(ve.jsx)(Oe.b,{to:"/chat",children:"Chat"})},"4")]},"sub1"),Object(ve.jsxs)(kt,{icon:Object(ve.jsx)(pe.a,{}),title:"subnav 2",children:[Object(ve.jsx)(je.a.Item,{children:"option5"},"5"),Object(ve.jsx)(je.a.Item,{children:"option6"},"6"),Object(ve.jsx)(je.a.Item,{children:"option7"},"7"),Object(ve.jsx)(je.a.Item,{children:"option8"},"8")]},"sub2"),Object(ve.jsxs)(kt,{icon:Object(ve.jsx)(xe.a,{}),title:"subnav 3",children:[Object(ve.jsx)(je.a.Item,{children:"option9"},"9"),Object(ve.jsx)(je.a.Item,{children:"option10"},"10"),Object(ve.jsx)(je.a.Item,{children:"option11"},"11"),Object(ve.jsx)(je.a.Item,{children:"option12"},"12")]},"sub3")]})}),Object(ve.jsxs)(de.a,{style:{padding:"0 24px 24px"},children:[Object(ve.jsxs)(be.a,{style:{margin:"16px 0"},children:[Object(ve.jsx)(be.a.Item,{children:"Home"}),Object(ve.jsx)(be.a.Item,{children:"List"}),Object(ve.jsx)(be.a.Item,{children:"App"})]}),Object(ve.jsx)(_t,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280},children:Object(ve.jsxs)(he.d,{children:[Object(ve.jsx)(he.b,{exact:!0,path:"/",render:function(){return Object(ve.jsx)(he.a,{to:"/profile"})}}),Object(ve.jsx)(he.b,{path:"/dialogs",render:function(){return Object(ve.jsx)(Ce,{})}}),Object(ve.jsx)(he.b,{path:"/profile/:userId?",render:function(){return Object(ve.jsx)(Ve,{})}}),Object(ve.jsx)(he.b,{path:"/login",render:function(){return Object(ve.jsx)(Ue,{})}}),Object(ve.jsx)(he.b,{path:"/users",render:function(){return Object(ve.jsx)(xt,{})}}),Object(ve.jsx)(he.b,{path:"/chat",render:function(){return Object(ve.jsx)(Pt,{})}})]})})]})]})]}):Object(ve.jsx)(Ne,{})}}]),n}(ce.Component),Et=Object(c.c)(he.g,Object(_e.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(N());Promise.all([t]).then((function(){e({type:M})}))}}}))(It),At=function(e){return Object(ve.jsx)(Oe.a,{children:Object(ve.jsx)(_e.a,{store:ne,children:Object(ve.jsx)(Et,{})})})},Ft=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,176)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};se.a.render(Object(ve.jsx)(At,{}),document.getElementById("root")),Ft()},49:function(e,t,n){e.exports={dialogs:"Dialog_dialogs__1Alno",dialogsItems:"Dialog_dialogsItems__1rG85",active:"Dialog_active__2MNpH",messages:"Dialog_messages__3NmOO",message:"Dialog_message__3hPqA"}},88:function(e,t,n){e.exports={descriptionBlock:"Profile_descriptionBlock__1_r5n",mainPhoto:"Profile_mainPhoto__1Emic",contact:"Profile_contact__oVTZe"}},89:function(e,t,n){e.exports={paginator:"Paginator_paginator__5LK4J",pageNumber:"Paginator_pageNumber__35tTa",selectedPage:"Paginator_selectedPage__2bSXT"}}},[[166,1,2]]]);
//# sourceMappingURL=main.24c506b5.chunk.js.map